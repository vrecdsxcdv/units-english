# ‚ö° Speechly ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Sorry, I encountered an error. Please try again."

---

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å Speechly –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É:

```
Sorry, I encountered an error. Please try again.
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (–∑–∞ 2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á OpenAI

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://platform.openai.com/api-keys
2. –í–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –ù–∞–∂–º–∏—Ç–µ **"Create new secret key"**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-`)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`/Users/matvey/Desktop/english 6/`) —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:

```bash
OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á-–∫–æ—Ç–æ—Ä—ã–π-–≤—ã-—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
npm run dev
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ Speechly
2. –ù–∞–ø–∏—à–∏—Ç–µ: "–ü—Ä–∏–≤–µ—Ç"
3. –î–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –æ—Ç–≤–µ—Ç ‚úÖ

---

## üîç –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

–ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:

- `Failed to fetch` ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é
- `401` ‚Üí –Ω–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
- `429` ‚Üí –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å–µ—Ä–≤–µ—Ä–∞

–ò—â–∏—Ç–µ:

```
OPENAI_API_KEY is not set ‚ùå
Chat API error: ...
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

| –ü—Ä–æ–±–ª–µ–º–∞               | –†–µ—à–µ–Ω–∏–µ                                 |
| ---------------------- | --------------------------------------- |
| –ù–µ—Ç —Ñ–∞–π–ª–∞ `.env.local` | –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞            |
| –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á          | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-`  |
| –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç         | –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É –∏–ª–∏ –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å |
| –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞          | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ                   |

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **–ú–æ–¥–µ–ª—å:** gpt-4o-mini
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.15 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤ –≤—Ö–æ–¥–∞, ~$0.60 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤ –≤—ã—Ö–æ–¥–∞
- **–û–¥–∏–Ω –≤–æ–ø—Ä–æ—Å:** ~$0.001-0.003 (0.1-0.3 —Ü–µ–Ω—Ç–∞)
- **100 –≤–æ–ø—Ä–æ—Å–æ–≤:** ~$0.10-0.30

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã:

–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ OpenAI –¥–∞—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –Ω–∞ —Ç–µ—Å—Ç.

---

## üõ†Ô∏è –£–ª—É—á—à–µ–Ω–∏—è

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è OPENAI_API_KEY –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
2. ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º:
   - "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI"
   - "–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ API. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OPENAI_API_KEY"
   - "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É AI"
   - "–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"
4. ‚úÖ Suggestions –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏ ("–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞", "–ó–∞–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å")
5. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫:
   - 401/403 ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á
   - 429 ‚Äî rate limit
   - ECONNREFUSED ‚Äî –Ω–µ—Ç —Å–µ—Ç–∏
   - Prisma errors ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –ë–î

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `src/app/api/tutor/chat/route.ts`
- `src/components/tutor/ChatInterface.tsx`

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. **SPEECHLY_SETUP.md**

---

## üéØ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞
cat .env.local | grep OPENAI_API_KEY

# –°–æ–∑–¥–∞–Ω–∏–µ .env.local
echo "OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á" > .env.local

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
# –í –±—Ä–∞—É–∑–µ—Ä–µ: F12 ‚Üí Console
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: —Å–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ npm run dev
```

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å Speechly –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. üéâ

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–±—Ä–∞—É–∑–µ—Ä F12 + —Ç–µ—Ä–º–∏–Ω–∞–ª —Å–µ—Ä–≤–µ—Ä–∞)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env.local` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å: https://platform.openai.com/usage
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API –∫–ª—é—á

---

**–î–∞—Ç–∞:** 2025-11-15  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ






